<div class="modal-header">
    <h3><i class="fas fa-ticket-alt"></i>&nbsp;&nbsp;&nbsp;Ticket #{{formItem.id}} related messages</h3>
</div>
<body>
<h3 style="text-align: center;">Messages:</h3>

<div class="panel-body" ng-show="!terminateSending">
<div class="row">
    <div>
        <div class="allModal" ng-repeat="msg in formItem.ticketComments | orderBy: 'id'">
                <strong>Date:</strong> {{msg.timestamp}}<br>
                <strong>Author:</strong> {{msg.eventGenerator.name}} {{msg.eventGenerator.surname}}<br>
                <strong>Message:</strong><br>{{msg.description}}
                <hr>
        </div>
    </div>
</div>
</div>

<div class="row" style="padding: 5%" ng-show="!terminateSending && formItem.stateMachine.currentState != 'EDIT'">

        <p><strong>Insert a new comment</strong><br>
    (Author name and date are autogenerated)</p><br>
        <textarea type="text-area" class="form-control" name="newComment" ng-model="newMessage.description"></textarea>

</div>

<div class="allModal" ng-show="terminateSending" align="center">

    <i class='fa fa-envelope faa-shake animated fa-4x'></i><br><br>
    <h4>The message was added</h4>

</div>

<div class="modal-footer">
    <button type="submit" class="btn btn-primary" ng-click="messageOk()" ng-show="newMessage.description" ng-if="!terminateSending">Ok</button>
    <button class="btn btn-warning" ng-click="closeMessageModal()">Return</button>
</div>


</body>